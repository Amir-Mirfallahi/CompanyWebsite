import{r,j as e,$ as t}from"./app-CJeqt3gf.js";import{A as N,H as g,u as y,v,r as w,w as $}from"./HomeLayout-BOQLhrO9.js";const I=({product:s,header:n,footer:x})=>{var h,m;const[c,o]=r.useState(""),[i,b]=r.useState("specs"),[j,p]=r.useState(!0),[k,u]=r.useState(!1);console.log(n);const f=r.useMemo(()=>s&&s.title&&s.price,[s]);r.useEffect(()=>{s&&s.image&&(o(s.image),p(!1))},[s]),r.useEffect(()=>{N.init({duration:1e3,once:!0})},[]);const d=a=>{a.target.src="/placeholder.png",u(!0)};return f?(console.log(n),e.jsx(g,{header:n||{},footer:x||{},className:"min-h-screen font-yekan bg-gray-50",children:e.jsxs("div",{className:"container px-4 mx-auto",children:[e.jsx("nav",{className:"mb-8 text-sm","aria-label":"مسیر دسترسی",children:e.jsxs("ol",{className:"flex gap-2 text-gray-600",children:[e.jsx("li",{children:e.jsx(t,{href:"/",className:"hover:text-blue-700",children:"خانه"})}),e.jsx("li",{"aria-hidden":"true",children:"/"}),e.jsx("li",{children:e.jsx(t,{href:"/products",className:"hover:text-blue-700",children:"محصولات"})}),e.jsx("li",{"aria-hidden":"true",children:"/"}),e.jsx("li",{children:e.jsx(t,{href:`/products/category/${((h=s.category)==null?void 0:h.id)||""}`,className:"hover:text-blue-700",children:((m=s.category)==null?void 0:m.name)||"?????????"})}),e.jsx("li",{"aria-hidden":"true",children:"/"}),e.jsx("li",{className:"text-blue-900","aria-current":"page",children:s.title})]})}),e.jsx("div",{className:"p-8 mb-8 bg-white shadow-lg rounded-2xl",children:e.jsxs("div",{className:"grid gap-12 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4","data-aos":"fade-left",children:[e.jsx("div",{className:"overflow-hidden border border-gray-200 aspect-square rounded-xl",children:j?e.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-100",children:e.jsx("span",{className:"text-gray-400",children:"در حال بارگذاری تصویر..."})}):e.jsx("img",{src:c,alt:`تصویر ${s.title}`,className:"object-cover w-full h-full",onError:d,loading:"eager"})}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:s.images&&s.images.map((a,l)=>e.jsx("button",{onClick:()=>o(a),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${c===a?"border-blue-600":"border-gray-200"}`,"aria-label":`انتخاب تصویر ${l+1} محصول`,"aria-pressed":c===a,children:e.jsx("img",{src:a,alt:`${s.title} - تصویر ${l+1}`,className:"object-cover w-full h-full",onError:d,loading:"lazy"})},l))})]}),e.jsxs("div",{className:"space-y-6","data-aos":"fade-right",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-3xl font-black text-blue-900",children:s.title}),e.jsx("p",{className:"text-gray-600",children:s.shortDescription||"توضیحات محصول"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-2xl font-bold text-blue-900",children:[s.price.toLocaleString("fa-IR")," تومان"]}),s.inStock?e.jsx("span",{className:"px-3 py-1 text-sm text-green-800 bg-green-100 rounded-full",children:"موجود در انبار"}):e.jsx("span",{className:"px-3 py-1 text-sm text-red-800 bg-red-100 rounded-full",children:"ناموجود"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{className:`flex items-center justify-center gap-2 px-6 py-3 text-white transition-colors rounded-xl ${s.in_stock?"bg-blue-900 hover:bg-blue-800":"bg-gray-400 cursor-not-allowed"}`,disabled:!s.in_stock,"aria-label":"افزودن به سبد خرید",children:[e.jsx(y,{"aria-hidden":"true"}),"افزودن به سبد خرید"]}),e.jsxs("a",{href:s.catalogUrl||"#",className:"flex items-center justify-center gap-2 px-6 py-3 text-blue-900 transition-colors border-2 border-blue-900 rounded-xl hover:bg-blue-50",download:s.catalogFilename||!0,target:"_blank",rel:"noopener noreferrer","aria-label":"دانلود کاتالوگ محصول",children:[e.jsx(v,{"aria-hidden":"true"}),"دانلود کاتالوگ"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[e.jsx("span",{className:"p-2 text-blue-900 rounded-lg bg-blue-50",children:e.jsx(w,{className:"w-5 h-5","aria-hidden":"true"})}),"ارسال رایگان"]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[e.jsx("span",{className:"p-2 text-blue-900 rounded-lg bg-blue-50",children:e.jsx($,{className:"w-5 h-5","aria-hidden":"true"})}),"گارانتی ۲۴ ماهه"]})]})]})]})}),e.jsxs("div",{className:"overflow-hidden bg-white shadow-lg rounded-2xl","data-aos":"fade-up",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("div",{className:"flex",role:"tablist",children:["specs","features","applications"].map(a=>e.jsxs("button",{onClick:()=>b(a),className:`px-8 py-4 text-sm font-medium transition-colors ${i===a?"border-b-2 border-blue-900 text-blue-900":"text-gray-600 hover:text-blue-900"}`,role:"tab","aria-selected":i===a,"aria-controls":`${a}-panel`,id:`${a}-tab`,children:[a==="specs"&&"مشخصات فنی",a==="features"&&"ویژگی‌ها",a==="applications"&&"کاربردها"]},a))})}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{id:"specs-panel",role:"tabpanel","aria-labelledby":"specs-tab",hidden:i!=="specs",children:s.specs&&s.specs.length>0?e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:s.specs.map((a,l)=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:a.key}),e.jsx("span",{className:"font-medium text-gray-900",children:a.value})]},l))}):e.jsx("p",{className:"text-gray-600",children:"اطلاعات مشخصات فنی در دسترس نیست."})}),e.jsx("div",{id:"features-panel",role:"tabpanel","aria-labelledby":"features-tab",hidden:i!=="features",children:s.features&&s.features.length>0?e.jsx("ul",{className:"space-y-4",children:s.features.map((a,l)=>e.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx("span",{className:"flex-shrink-0 text-blue-500","aria-hidden":"true",children:"✓"}),a]},l))}):e.jsx("p",{className:"text-gray-600",children:"اطلاعات ویژگی‌ها در دسترس نیست."})}),e.jsx("div",{id:"applications-panel",role:"tabpanel","aria-labelledby":"applications-tab",hidden:i!=="applications",children:s.applications&&s.applications.length>0?e.jsx("ul",{className:"space-y-4",children:s.applications.map((a,l)=>e.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx("span",{className:"flex-shrink-0 text-blue-500","aria-hidden":"true",children:"•"}),a]},l))}):e.jsx("p",{className:"text-gray-600",children:"اطلاعات کاربردها در دسترس نیست."})})]})]}),s.relatedProducts&&s.relatedProducts.length>0&&e.jsxs("div",{className:"mt-12","data-aos":"fade-up",children:[e.jsx("h2",{className:"mb-8 text-2xl font-bold text-blue-900",children:"محصولات مرتبط"}),e.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:s.relatedProducts.map((a,l)=>e.jsxs(t,{href:`/products/${a.id}`,className:"p-6 transition-all bg-white shadow-lg group rounded-xl hover:shadow-xl",children:[e.jsx("div",{className:"mb-4 overflow-hidden rounded-lg aspect-square",children:e.jsx("img",{src:a.image,alt:a.title,className:"object-cover w-full h-full transition-transform group-hover:scale-105",onError:d,loading:"lazy"})}),e.jsx("h3",{className:"mb-2 text-lg font-bold text-blue-900",children:a.title}),e.jsxs("p",{className:"text-gray-900",children:[(a.price||0).toLocaleString("fa-IR")," تومان"]})]},l))})]})]})})):e.jsx(g,{header:n||{},footer:x||{},className:"pt-32 pb-20",children:e.jsxs("div",{className:"container px-4 mx-auto text-center","data-aos":"fade-up",children:[e.jsx("h1",{className:"mb-4 text-2xl font-bold text-red-600",children:"محصول یافت نشد"}),e.jsx("p",{className:"mb-8 text-gray-600",children:"اطلاعات محصول درخواستی در دسترس نیست."}),e.jsx(t,{href:"/products",className:"px-6 py-3 text-white bg-blue-900 rounded-xl hover:bg-blue-800",children:"بازگشت به لیست محصولات"})]})})};export{I as default};
