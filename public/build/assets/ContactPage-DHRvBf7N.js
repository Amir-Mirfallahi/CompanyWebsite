import{j as e,r as o,L as b}from"./app-CJeqt3gf.js";import{F as x,a as m,b as u,c as j,A as p,H as f}from"./HomeLayout-BOQLhrO9.js";function N({title:l,subtitle:s}){return e.jsx("section",{className:"bg-gradient-to-b from-blue-50 to-white py-20",children:e.jsxs("div",{className:"container mx-auto px-4 text-center","data-aos":"fade-up",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-black text-blue-900 mb-4",children:l}),e.jsx("p",{className:"text-xl text-gray-700",children:s})]})})}function v({fields:l}){const[s,t]=o.useState({}),[i,c]=o.useState({submitting:!1,success:!1,error:null}),h=async n=>{n.preventDefault();const r=Object.entries(l).filter(([a,d])=>d.required&&!s[a]).map(([a,d])=>d.label);if(r.length>0){c({submitting:!1,success:!1,error:`لطفا فیلدهای ضروری را تکمیل کنید: ${r.join(", ")}`});return}c({submitting:!0,success:!1,error:null});try{const a=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),d=await a.json();if(!a.ok)throw new Error(d.message||"خطا در ارسال فرم");t({}),c({submitting:!1,success:!0,error:null}),setTimeout(()=>{c(g=>({...g,success:!1}))},5e3)}catch(a){c({submitting:!1,success:!1,error:a.message||"خطا در ارسال فرم"})}};return e.jsxs("div",{className:"p-8 bg-white shadow-lg rounded-xl",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-blue-900",children:"فرم تماس"}),i.success&&e.jsx("div",{className:"p-4 mb-6 text-green-800 bg-green-100 rounded-lg",children:"پیام شما با موفقیت ارسال شد. به زودی با شما تماس خواهیم گرفت."}),i.error&&e.jsx("div",{className:"p-4 mb-6 text-red-800 bg-red-100 rounded-lg",children:i.error}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[Object.entries(l).map(([n,r])=>e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-2 text-gray-700",children:[r.label,r.required&&e.jsx("span",{className:"text-red-500",children:"*"})]}),r.type==="textarea"?e.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"4",required:r.required,value:s[n]||"",onChange:a=>t({...s,[n]:a.target.value})}):r.type==="select"?e.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:r.required,value:s[n]||"",onChange:a=>t({...s,[n]:a.target.value}),children:[e.jsx("option",{value:"",children:"انتخاب کنید"}),r.options.map(a=>e.jsx("option",{value:a,children:a},a))]}):e.jsx("input",{type:r.type,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:r.required,value:s[n]||"",onChange:a=>t({...s,[n]:a.target.value})})]},n)),e.jsx("button",{type:"submit",disabled:i.submitting,className:`w-full ${i.submitting?"bg-blue-700":"bg-blue-900"} text-white py-3 rounded-lg hover:bg-blue-800 transition-colors flex justify-center items-center`,children:i.submitting?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"در حال ارسال..."]}):"ارسال پیام"})]})]})}function w({info:l}){return e.jsxs("div",{className:"space-y-8",children:[l.locations.map((s,t)=>e.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg","data-aos":"fade-up","data-aos-delay":t*100,children:[e.jsx("h3",{className:"mb-4 text-xl font-bold text-blue-900",children:s.title}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx(x,{className:"text-blue-900"}),e.jsx("span",{children:s.address})]}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx(m,{className:"text-blue-900"}),e.jsx("span",{dir:"ltr",children:s.phone})]}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx(u,{className:"text-blue-900"}),e.jsx("span",{children:s.email})]})]})]},t)),e.jsx("div",{className:"grid gap-4 mt-8 md:grid-cols-3",children:l.departments.map((s,t)=>e.jsxs("div",{className:"flex flex-col p-3 bg-white rounded-lg border border-gray-100 shadow-sm transition-shadow duration-300 hover:shadow-md","data-aos":"fade-up","data-aos-delay":t*100,children:[e.jsx("h4",{className:"pb-2 font-bold text-center text-blue-900 border-b border-gray-100",children:s.title}),e.jsxs("div",{className:"mt-3 space-y-2 text-sm",dir:"ltr",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(u,{className:"text-blue-700 min-w-4"}),e.jsx("a",{href:`mailto:${s.email}`,className:"text-gray-700 truncate",children:s.email})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(m,{className:"text-blue-700 min-w-4"}),e.jsx("a",{href:`tel:${s.phone}`,className:"text-gray-700",children:s.phone})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(x,{className:"text-blue-700 min-w-4"}),e.jsx("span",{className:"text-gray-700 truncate",children:s.address})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(j,{className:"text-blue-700 min-w-4"}),e.jsx("span",{className:"text-gray-700",children:s.working_hours})]})]})]},t))})]})}function q({header:l,footer:s,contactInfo:t,formFields:i}){return o.useEffect(()=>{p.init({duration:1e3,once:!0,mirror:!1})},[]),e.jsxs(f,{header:l,footer:s,className:"pt-24",children:[e.jsxs(b,{children:[e.jsx("title",{children:"تماس با ما"}),e.jsx("meta",{name:"description",content:"تماس با ما"})]}),e.jsx(N,{title:t.title,subtitle:t.subtitle}),e.jsx("div",{className:"container px-4 py-16 mx-auto",children:e.jsxs("div",{className:"grid gap-12 lg:grid-cols-2",children:[e.jsx("div",{"data-aos":"fade-left",children:e.jsx(v,{fields:i})}),e.jsx("div",{"data-aos":"fade-right",children:e.jsx(w,{info:t})})]})})]})}export{q as default};
